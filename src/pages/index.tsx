import Head from 'next/head';
import useTgApp from '@/features/_tg_methods_';
import Link from 'next/link';
import { Page } from '@/components/Shared/Page';
import { viewport } from '@telegram-apps/sdk-react';
import useAccount from '@/features/_local_storage_';
import { CustomBtn } from '@/components/Shared/CustomBtn';
import { ProgressBurSection } from '@/components/Shared/ProgressBurSection';
import BottomTabs from '@/components/Shared/BottomTabs';

export default function Home() {
  const { dataUser, safeAreas } = useTgApp();
  const { isAuth, account, addXp, setAccount } = useAccount();
  console.log(account);

  return (
    <>
      <Head>
        <title>gfhjf</title>
        <meta name='description' content='Generated by create next app' />
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        <link rel='icon' href='/favicon.ico' />
      </Head>

      <Page back={false}>
        <main>
          huidd
          {dataUser ? (
            <div>
              <p>
                <strong>Username:</strong> {dataUser?.username || 'Unknown'}
              </p>
              <p>
                <strong>First Name:</strong> {dataUser?.firstName || 'Unknown'}
              </p>
              <p>
                <strong>Last Name:</strong> {dataUser?.lastName || 'Unknown'}
              </p>
            </div>
          ) : (
            <p>Loading Telegram data...</p>
          )}
          <Link href={'/courses'}>courses</Link>
          <br />
          <button onClick={() => viewport.exitFullscreen()}>exitFullscreen()</button>
          <CustomBtn onClick={() => console.log('ff')}>Продолжить</CustomBtn>
          <ProgressBurSection percent={50} />
          <BottomTabs />
        </main>
      </Page>
    </>
  );
}
